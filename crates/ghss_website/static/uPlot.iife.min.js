/*! https://github.com/leeoniya/uPlot (v1.0.2) */
var uPlot=function(){"use strict";function n(n,t,e,r){var i;e=e||0;for(var a=2147483647>=(r=r||t.length-1);r-e>1;)n>t[i=a?e+r>>1:o((e+r)/2)]?e=i:r=i;return n-t[e]>t[r]-n?r:e}function t(n,t,e,i){var a=t-n,l=f(a||r(t)||1),u=o(l),c=s(10,u)*e,v=0==a?c:0,h=x(function(n,t){return o(n/t)*t}(n-v,c)),p=x(d(t+v,c));return i&&(0==a?t>0?h=0:0>t&&(p=0):(c>p-t&&(p+=c),c>n-h&&(h-=c),n>=0&&0>h&&(h=0),0>=t&&p>0&&(p=0))),[h,p]}var e=Math,r=e.abs,o=e.floor,i=e.round,a=e.ceil,l=e.min,u=e.max,s=e.pow,f=e.log10,c=e.PI;function v(n,t){return i(n/t)*t}function h(n,t,e){return l(u(n,t),e)}function p(n){return"function"==typeof n?n:function(){return n}}function m(n,t){return t}function d(n,t){return a(n/t)*t}function g(n){return i(1e3*n)/1e3}function x(n){return i(1e6*n)/1e6}var w=Array.isArray;function b(n){return"object"==typeof n&&null!==n}function y(n){var t;if(w(n))t=n.map(y);else if(b(n))for(var e in t={},n)t[e]=y(n[e]);else t=n;return t}function S(n){for(var t=arguments,e=1;t.length>e;e++){var r=t[e];for(var o in r)b(n[o])?S(n[o],y(r[o])):n[o]=y(r[o])}return n}var k="width",M="height",Y="left",D=requestAnimationFrame,E=document,T=window,z=devicePixelRatio;function A(n,t){null!=t&&n.classList.add(t)}function C(n,t,e){n.style[t]=e+"px"}function F(n,t,e){var r=E.createElement(n);return null!=t&&A(r,t),null!=e&&e.appendChild(r),r}function _(n,t){return F("div",n,t)}function H(n,t,e){n.style.transform="translate("+t+"px,"+e+"px)"}var P={passive:!0};function W(n,t,e){t.addEventListener(n,e,P)}function L(n,t,e){t.removeEventListener(n,e,P)}var N=["January","February","March","April","May","June","July","August","September","October","November","December"],I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function j(n){return n.slice(0,3)}var B=I.map(j),G=N.map(j);function J(n){return(10>n?"0":"")+n}var R={YYYY:function(n){return n.getFullYear()},YY:function(n){return(n.getFullYear()+"").slice(2)},MMMM:function(n){return N[n.getMonth()]},MMM:function(n){return G[n.getMonth()]},MM:function(n){return J(n.getMonth()+1)},M:function(n){return n.getMonth()+1},DD:function(n){return J(n.getDate())},D:function(n){return n.getDate()},WWWW:function(n){return I[n.getDay()]},WWW:function(n){return B[n.getDay()]},HH:function(n){return J(n.getHours())},H:function(n){return n.getHours()},h:function(n){var t=n.getHours();return 0==t?12:t>12?t-12:t},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},a:function(n){return 12>n.getHours()?"a":"p"},mm:function(n){return J(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return J(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function U(n){for(var t,e=[],r=/\{([a-z]+)\}|[^{]+/gi;t=r.exec(n);)e.push("{"==t[0][0]?R[t[1]]:t[0]);return function(n){for(var t="",r=0;e.length>r;r++)t+="string"==typeof e[r]?e[r]:e[r](n);return t}}function V(n,t,e){for(var o=[],i=n;t>i;i++)for(var a=0;e.length>a;a++){var l=e[a]*s(10,i);o.push(+l.toFixed(r(i)))}return o}var q=[1,2,5],O=V(-12,0,q),X=V(0,12,q),Z=O.concat(X),K=3600,Q=86400,$=30*Q,nn=365*Q,tn=[5e-4].concat(V(-3,0,q),[1,5,10,15,30,60,300,600,900,1800,K,7200,3*K,4*K,6*K,8*K,43200,Q,2*Q,3*Q,4*Q,5*Q,6*Q,7*Q,8*Q,9*Q,10*Q,15*Q,$,2*$,3*$,4*$,6*$,nn,2*nn,5*nn,10*nn,25*nn,50*nn,100*nn]);function en(n){return n.map((function(n){return[n[0],U(n[1]),n[2],U(n[4]?n[1]+n[3]:n[3])]}))}var rn="{M}/{D}",on="\n"+rn,an="{h}:{mm}{aa}",ln=en([[nn,"{YYYY}",7,"",1],[28*Q,"{MMM}",7,"\n{YYYY}",1],[Q,rn,7,"\n{YYYY}",1],[K,"{h}{aa}",4,on,1],[60,an,4,on,1],[1,":{ss}",2,on+" "+an,1],[.001,":{ss}.{fff}",2,on+" "+an,1]]);function un(n,t){return function(e,r){var o=g(r[1]-r[0]),i=t.find((function(n){return o>=n[0]})),a=null,l=null,u=null;return r.map((function(t){var e=n(t),r=e.getFullYear(),o=e.getDate(),s=e.getMinutes(),f=r!=a,c=o!=l,v=s!=u;return a=r,l=o,u=s,(7==i[2]&&f||4==i[2]&&c||2==i[2]&&v?i[3]:i[1])(e)}))}}function sn(n,t,e){return new Date(n,t,e)}function fn(n){return U(n)}var cn=fn("{YYYY}-{MM}-{DD} {h}:{mm}{aa}");function vn(n,t){return function(e,r){return t(n(r))}}var hn={show:!0,x:!0,y:!0,lock:!1,points:{show:function(n){return n.series.map((function(n,t){if(t>0){var e=_();e.style.background=n.stroke||"#000";var r=Yn(n.width,1),o=(r-1)/-2;return C(e,k,r),C(e,M,r),C(e,"marginLeft",o),C(e,"marginTop",o),e}}))}},drag:{setScale:!0,x:!0,y:!1},focus:{prox:-1},locked:!1,left:-10,top:-10,idx:null},pn={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},mn=S({},pn,{size:10}),dn='12px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',gn="bold "+dn,xn={type:"x",show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:gn,side:2,grid:pn,ticks:mn,font:dn},wn={show:!0,scale:"x",min:1/0,max:-1/0,idxs:[]},bn=new Intl.NumberFormat(navigator.language);function yn(n,t){return t.map(bn.format)}function Sn(n,t,e,r,o,i){for(var a=[],l=t=i?t:+d(t,r).toFixed(12);e>=l;l=+(l+r).toFixed(12))a.push(l);return a}function kn(n,t){return t}var Mn={type:"y",show:!0,scale:"y",space:40,gap:5,size:50,labelSize:30,labelFont:gn,side:3,grid:pn,ticks:mn,font:dn};function Yn(n,t){return u(g(5*t),2*g(n*t)-1)}var Dn={scale:"y",show:!0,band:!1,alpha:1,points:{show:function(n,t){var e=Yn(n.series[t].width,z),r=n.series[0].idxs;return n.bbox.width/e/2>=r[1]-r[0]},fill:"#fff"},values:null,min:1/0,max:-1/0,idxs:[],path:null,clip:null},En={time:!0,auto:!1,distr:1,min:1/0,max:-1/0},Tn=S({},En,{time:!1,auto:!0}),zn={};function An(){var n=[];return{sub:function(t){n.push(t)},unsub:function(t){n=n.filter((function(n){return n!=t}))},pub:function(t,e,r,o,i,a,l){n.length>1&&n.forEach((function(n){n!=e&&n.pub(t,e,r,o,i,a,l)}))}}}function Cn(n,t,e){return[n[0],n[1]].concat(n.slice(2)).map((function(n,r){return S({},0==r||n&&n.side%2==0?t:e,n)}))}function Fn(n,t,e,r){return r+(1-(n-t.min)/(t.max-t.min))*e}function _n(n,t,e,r){return r+(n-t.min)/(t.max-t.min)*e}function Hn(n,t,e){return[t,e]}function Pn(n,e,r){return t(e,r,.2,!0)}function Wn(n){return 0==n.button}function Ln(n){var t;return[n=n.replace(/\d+/,(function(n){return t=i(n*z)})),t]}function Nn(t,e,a){var s=this;((t=y(t)).plugins||[]).forEach((function(n){n.opts&&(t=n.opts(s,t)||t)}));var f=!1,b=Cn(t.series,wn,Dn),P=Cn(t.axes||[],xn,Mn),N=t.scales=t.scales||{},I=S({x:i(Mn.size/2),y:i(xn.size/3)},t.gutters),j=t.tzDate||function(n){return new Date(1e3*n)},B=function(n){return function(t,e,r,i,a){var l=[],u=i>=$&&nn>i,s=n(e),f=s/1e3,c=sn(s.getFullYear(),s.getMonth(),u?1:s.getDate()),v=c/1e3;if(u)for(var h=i/$,p=f==v?f:sn(c.getFullYear(),c.getMonth()+h,1)/1e3,m=new Date(1e3*p),w=m.getFullYear(),b=m.getMonth(),y=0;r>=p;y++){var S=sn(w,b+h*y,1);(p=(+S+(S-n(S/1e3)))/1e3)>r||l.push(p)}else{var k=Q>i?i:Q,M=v+(o(e)-o(f))+d(f-v,k);l.push(M);for(var Y=n(M),D=Y.getHours()+Y.getMinutes()/60+Y.getSeconds()/K,E=i/K;;){M=g(M+i);var T=o(x(D+E))%24,z=n(M).getHours()-T;if(z>1&&(z=-1),(M-=z*K)>r)break;D=(D+E)%24,.7>g((M-l[l.length-1])/i)*a||l.push(M)}}return l}}(j),G=un(j,ln),J=vn(j,cn);s.series=b,s.axes=P,s.scales=N;var R={};for(var U in N){var V=N[U];null==V.min&&null==V.max||(R[U]={min:V.min,max:V.max})}var q=S({show:!0},t.legend);for(var O in b.forEach((function(n,t){var e=n.scale,r=N[e]=S({},0==t?En:Tn,N[e]),o=r.time;r.range=p(r.range||(o||0==t?Hn:Pn)),n.spanGaps=!0===n.spanGaps?m:p(n.spanGaps||[]);var i=n.value;if(n.value=o?function(n){return"string"==typeof n}(i)?vn(j,fn(i)):i||J:i||kn,n.label=n.label||(o?"Time":"Value"),t>0){n.width=null==n.width?1:n.width,n.paths=n.paths||pt;var a=Yn(n.width,1);n.points=S({},{size:a,width:u(1,.2*a)},n.points),n.points.show=p(n.points.show),n._paths=null}})),N){var rn=N[O];null!=rn.from&&(N[O]=S({},N[rn.from],rn))}var on=b[0].scale,an=N[on].distr;P.forEach((function(n){if(n.show){var t=N[n.scale];null==t&&(n.scale=n.side%2?b[1].scale:on,t=N[n.scale]);var e=t.time;n.space=p(n.space),n.incrs=p(n.incrs||(2==t.distr?X:e?tn:Z)),n.split=p(n.split||(e&&1==t.distr?B:Sn));var r=n.values;n.values=e?w(r)?un(j,en(r)):r||G:r||yn,n.font=Ln(n.font),n.labelFont=Ln(n.labelFont)}}));var pn,mn=s.root=_("uplot");null!=t.id&&(mn.id=t.id),A(mn,t.class),t.title&&(_("title",mn).textContent=t.title);var dn,gn,bn,Nn,In,jn,Bn,Gn,Jn,Rn,Un=null,Vn=null,qn=b[0].idxs,On=null;function Xn(n,t){s.data=n,e=n.slice(),pn=(On=e[0]).length,2==an&&(e[0]=On.map((function(n,t){return t}))),gt(),fe("setData"),!1!==t&&Zn()}function Zn(){Un=qn[0]=0,Vn=qn[1]=pn-1,Lt(on,2==an?Un:e[0][Un],2==an?Vn:e[0][Vn])}function Kn(n,t,e,r){nt.strokeStyle=n||"#000",nt.lineWidth=t,nt.lineJoin="round",nt.setLineDash(e||[]),nt.fillStyle=r||"#000"}function Qn(n,t){s.width=dn=bn=n,s.height=gn=Nn=t,In=jn=0,function(){var n=!1,t=!1,e=!1,r=!1;P.forEach((function(o){if(o.show){var i=o.side,a=i%2,l=o.size+(o.labelSize=null!=o.label?o.labelSize||30:0);l>0&&(a?(bn-=l,3==i?(In+=l,r=!0):e=!0):(Nn-=l,0==i?(jn+=l,n=!0):t=!0))}})),(n||t)&&(e||(bn-=I.x),r||(bn-=I.x,In+=I.x)),(r||e)&&(t||(Nn-=I.y),n||(Nn-=I.y,jn+=I.y))}(),function(){var n=In+bn,t=jn+Nn,e=In,r=jn;function o(o,i){switch(o){case 1:return(n+=i)-i;case 2:return(t+=i)-i;case 3:return(e-=i)+i;case 0:return(r-=i)+i}}P.forEach((function(n){var t=n.side;n._pos=o(t,n.size),null!=n.label&&(n._lpos=o(t,n.labelSize))}))}();var e=s.bbox;Bn=e[Y]=v(In*z,.5),Gn=e.top=v(jn*z,.5),Jn=e[k]=v(bn*z,.5),Rn=e[M]=v(Nn*z,.5),C(et,Y,In),C(et,"top",jn),C(et,k,bn),C(et,M,Nn),C(rt,Y,In),C(rt,"top",jn),C(rt,k,bn),C(rt,M,Nn),C(tt,k,dn),C(tt,M,gn),$n[k]=i(dn*z),$n[M]=i(gn*z),f&&Lt(on,N[on].min,N[on].max),f&&fe("setSize")}s.setData=Xn,s.bbox={},s.setSize=function(n){Qn(n.width,n.height)};var $n=F("canvas"),nt=s.ctx=$n.getContext("2d"),tt=_("wrap",mn),et=_("under",tt);tt.appendChild($n);var rt=_("over",tt);function ot(){if(Vt)Ot=!0;else{var t={};for(var r in N){var o=N[r],i=R[r];t[r]={min:o.min,max:o.max},null!=i?(S(o,i),r==on&&gt()):r!=on&&(o.min=1/0,o.max=-1/0)}for(var a in b.forEach((function(t,r){var o=t.scale,i=N[o];if(0==r){var a=i.range(s,i.min,i.max);i.min=a[0],i.max=a[1],Un=n(i.min,e[0]),Vn=n(i.max,e[0]),i.min>e[0][Un]&&Un++,e[0][Vn]>i.max&&Vn--,t.min=On[Un],t.max=On[Vn]}else if(t.show&&null==R[o]){var f=t.min==1/0?i.auto?function(n,t,e){for(var r=1/0,o=-1/0,i=t;e>=i;i++)null!=n[i]&&(r=l(r,n[i]),o=u(o,n[i]));return[r,o]}(e[r],Un,Vn):[0,100]:[t.min,t.max];i.min=l(i.min,t.min=f[0]),i.max=u(i.max,t.max=f[1])}t.idxs[0]=Un,t.idxs[1]=Vn})),N){var f=N[a];if(null==f.from&&f.min!=1/0&&null==R[a]){var c=f.range(s,f.min,f.max);f.min=c[0],f.max=c[1]}R[a]=null}for(var v in N){var h=N[v];if(null!=h.from){var p=N[h.from];if(p.min!=1/0){var m=h.range(s,p.min,p.max);h.min=m[0],h.max=m[1]}}}var d={};for(var g in b.forEach((function(n){var e=n.scale,r=N[e];null==t[e]||r.min==t[e].min&&r.max==t[e].max||(d[e]=!0,n._paths=null)})),d)fe("setScale",g);yt.show&&Kt()}}var it,at,lt,ut,st,ft,ct,vt=1;function ht(n,t){var e=new Set(b[n].spanGaps(s,t,n)),r=null;if((t=t.filter((function(n){return!e.has(n)}))).length>0){r=new Path2D;for(var o=Bn,i=0;t.length>i;i++){var a=t[i];r.rect(o,Gn,a[0]-o,Gn+Rn),o=a[1]}r.rect(o,Gn,Bn+Jn-o,Gn+Rn)}return r}function pt(n,t,r,o){var a,s,f=b[t],c=e[0],v=e[t],h=N[on],p=N[f.scale],m=1==vt?{stroke:new Path2D,fill:null,clip:null}:b[t-1]._paths,d=m.stroke,x=g(f[k]*z),w=1/0,y=-1/0,S=[],M=i(_n(c[1==vt?r:o],h,Jn,Bn));f.band&&1==vt&&r==Un&&(x&&d.lineTo(-x,i(Fn(v[r],p,Rn,Gn))),c[0]>h.min&&S.push([Bn,M-1]));for(var Y=1==vt?r:o;Y>=r&&o>=Y;Y+=vt){var D=i(_n(c[Y],h,Jn,Bn));if(D==M)null!=v[Y]&&(a=i(Fn(v[Y],p,Rn,Gn)),w=l(a,w),y=u(a,y));else{var E=!1;if(w!=1/0?(d.lineTo(M,w),d.lineTo(M,y),d.lineTo(M,a),s=M):E=!0,null!=v[Y]?(a=i(Fn(v[Y],p,Rn,Gn)),d.lineTo(D,a),w=y=a,D-M>1&&null==v[Y-1]&&(E=!0)):(w=1/0,y=-1/0),E){var T=S[S.length-1];T&&T[0]==s?T[1]=D:S.push([s,D])}M=D}}if(f.band){var A,C,F=100*x;-1==vt&&r==Un&&(C=Bn-F,A=r),1==vt&&o==Vn&&(C=Bn+Jn+F,A=o,h.max>c[pn-1]&&S.push([M,Bn+Jn])),d.lineTo(C,i(Fn(v[A],p,Rn,Gn)))}if(1==vt&&(m.clip=ht(t,S),null!=f.fill)){var _=m.fill=new Path2D(d),H=i(Fn(0,p,Rn,Gn));_.lineTo(Bn+Jn,H),_.lineTo(Bn,H)}return f.band&&(vt*=-1),m}function mt(n,t,e,r){var o=n.space(s,t,e,r),i=function(n,t,e,r){for(var o=e/n,i=0;t.length>i;i++){var a=t[i]*o;if(a>=r)return[t[i],a]}}(e-t,n.incrs(s,t,e,r,o),r,o);return i.push(i[1]/o),i}function dt(n,t,e,r,o,i,a,l){var u=i%2/2;nt.translate(u,u),Kn(a,i,l),nt.beginPath();var s,f,c,v,h=r+(0==e||3==e?-o:o);0==t?(f=r,v=h):(s=r,c=h),n.forEach((function(n){0==t?s=c=n:f=v=n,nt.moveTo(s,f),nt.lineTo(c,v)})),nt.stroke(),nt.translate(-u,-u)}function gt(){b.forEach((function(n,t){t>0&&(n.min=1/0,n.max=-1/0,n._paths=null)}))}function xt(){Vt?qt=!0:(nt.clearRect(0,0,$n[k],$n[M]),fe("drawClear"),function(){P.forEach((function(n){if(n.show){var t=N[n.scale];if(t.min!=1/0){var e=n.side,r=e%2,o=t.min,a=t.max,l=mt(n,o,a,0==r?bn:Nn),u=l[1],f=n.split(s,o,a,l[0],l[2],2==t.distr),v=0==r?_n:Fn,h=0==r?Jn:Rn,p=0==r?Bn:Gn,m=f.map((function(n){return i(v(n,t,h,p))})),d=i(n.gap*z),x=n.ticks,w=x.show?i(x.size*z):0,b=n.values(s,2==t.distr?f.map((function(n){return On[n]})):f,u),y=i(n._pos*z),S=y+(w+d)*(0==r&&0==e||1==r&&3==e?-1:1),M=0==r?S:0,D=1==r?S:0;nt.font=n.font[0],nt.fillStyle=n.stroke||"#000",nt.textAlign=0==r?"center":3==e?"right":Y,nt.textBaseline=1==r?"middle":2==e?"top":"bottom";var E=1.5*n.font[1];if(b.forEach((function(n,t){0==r?D=m[t]:M=m[t],(""+n).split(/\n/gm).forEach((function(n,t){nt.fillText(n,D,M+t*E)}))})),n.label){nt.save();var T=i(n._lpos*z);1==r?(D=M=0,nt.translate(T,i(Gn+Rn/2)),nt.rotate((3==e?-c:c)/2)):(D=i(Bn+Jn/2),M=T),nt.font=n.labelFont[0],nt.textAlign="center",nt.textBaseline=2==e?"top":"bottom",nt.fillText(n.label,D,M),nt.restore()}x.show&&dt(m,r,e,y,w,g(x[k]*z),x.stroke);var A=n.grid;A.show&&dt(m,r,0==r?2:1,0==r?Gn:Bn,0==r?Rn:Jn,g(A[k]*z),A.stroke,A.dash)}}})),fe("drawAxes")}(),function(){b.forEach((function(n,t){if(t>0&&n.show&&null==n._paths){var r=function(n){for(var t=h(Un-1,0,pn-1),e=h(Vn+1,0,pn-1);null==n[t]&&t>0;)t--;for(;null==n[e]&&pn-1>e;)e++;return[t,e]}(e[t]);n._paths=n.paths(s,t,r[0],r[1])}})),b.forEach((function(n,t){t>0&&n.show&&(n._paths&&function(n){var t=b[n];if(1==vt){var e=t._paths,r=e.stroke,o=e.fill,i=e.clip,a=g(t[k]*z),l=a%2/2;Kn(t.stroke,a,t.dash,t.fill),nt.globalAlpha=t.alpha,nt.translate(l,l),nt.save();var u=Bn,s=Gn,f=Jn,c=Rn,v=a*z/2;0==t.min&&(c+=v),0==t.max&&(s-=v,c+=v),nt.beginPath(),nt.rect(u,s,f,c),nt.clip(),null!=i&&nt.clip(i),t.band?(nt.fill(r),a&&nt.stroke(r)):(a&&nt.stroke(r),null!=t.fill&&nt.fill(o)),nt.restore(),nt.translate(-l,-l),nt.globalAlpha=1}t.band&&(vt*=-1)}(t),n.points.show(s,t,Un,Vn)&&function(n){var t=b[n],r=t.points,o=g(t[k]*z)%2/2,a=r.size*z,l=r.width?(r.size-2*r.width)*z:null;nt.translate(o,o),nt.save(),nt.beginPath(),nt.rect(Bn-a,Gn-a,Jn+2*a,Rn+2*a),nt.clip(),nt.globalAlpha=t.alpha;for(var u=new Path2D,s=l?new Path2D:null,f=Un;Vn>=f;f++)if(null!=e[n][f]){var v=i(_n(e[0][f],N[on],Jn,Bn)),h=i(Fn(e[n][f],N[t.scale],Rn,Gn));u.moveTo(v+a/2,h),u.arc(v,h,a/2,0,2*c),l&&(s.moveTo(v+l/2,h),s.arc(v,h,l/2,0,2*c))}nt.fillStyle=(l?r.stroke:r.fill)||t.stroke||"#000",nt.fill(u),l&&(nt.fillStyle=r.fill||t.fill||"#000",nt.fill(s)),nt.globalAlpha=1,nt.restore(),nt.translate(-o,-o)}(t),fe("drawSeries",t))}))}(),it=!0,fe("draw"))}function wt(n,t){var e=N[n];if(null==e.from){if(n==on&&e.time&&P[0].show&&.001>mt(P[0],t.min,t.max,bn)[0])return;R[n]=t,it=!1,ot(),!it&&xt(),it=!1}}s.redraw=xt,s.setScale=wt;var bt=!1,yt=s.cursor=S({},hn,t.cursor);yt.points.show=p(yt.points.show);var St=s.focus=S({},t.focus||{alpha:.3},yt.focus),kt=St.prox>=0,Mt=yt.drag;if(yt.show){var Yt="cursor-";yt.x&&(ft=yt.left,at=_(Yt+"x",rt)),yt.y&&(ct=yt.top,lt=_(Yt+"y",rt))}var Dt=s.select=S({show:!0,left:0,width:0,top:0,height:0},t.select),Et=Dt.show?_("select",rt):null;function Tt(n,t){if(Dt.show){for(var e in n)C(Et,e,Dt[e]=n[e]);!1!==t&&fe("setSelect")}}s.setSelect=Tt;var zt=null,At=null,Ct=!1;if(q.show){zt=F("table","legend",mn);var Ft,_t=b[1].values;if(Ct=null!=_t){var Ht=F("tr","labels",zt);for(var Pt in F("th",null,Ht),Ft=_t(s,1,0))F("th",null,Ht).textContent=Pt}else Ft={_:0},A(zt,"inline");At=b.map((function(n,t){if(0==t&&Ct)return null;var e=[],r=F("tr","series",zt);A(r,n.class),n.show||A(r,"off");var o=F("th",null,r),i=_("ident",o);n.width&&(i.style.borderColor=n.stroke),i.style.backgroundColor=n.fill;var a=_("text",o);for(var l in a.textContent=n.label,t>0&&(W("click",o,(function(e){yt.locked||Wn(e)&&Nt(t,{show:!n.show},ce.setSeries)})),kt&&W("mouseenter",o,(function(){yt.locked||Nt(t,{focus:!0},ce.setSeries)}))),Ft){var u=F("td",null,r);u.textContent="--",e.push(u)}return e}))}function Wt(n){var t=q.show?At[n][0].parentNode:null;b[n].show?t&&function(n){n.classList.remove("off")}(t):(t&&A(t,"off"),Gt&&H(Gt[n],0,-10))}function Lt(n,t,e){wt(n,{min:t,max:e})}function Nt(n,t,e){var r=b[n];if(null!=t.focus&&function(n){n!=Bt&&(b.forEach((function(t,e){!function(n,t){var e=b[n];It(n,t),e.band&&It(b[n+1].band?n+1:n-1,t)}(e,null==n||0==e||e==n?1:St.alpha)})),Bt=n,xt())}(n),null!=t.show){if(r.show=t.show,Wt(n),r.band){var o=b[n+1]&&b[n+1].band?n+1:n-1;b[o].show=r.show,Wt(o)}Lt(on,N[on].min,N[on].max)}fe("setSeries",n,t),e&&he.pub("setSeries",s,n,t)}function It(n,t){b[n].alpha=t,At&&(At[n][0].parentNode.style.opacity=t)}s.setSeries=Nt;var jt=Array(b.length),Bt=null;kt&&q.show&&W("mouseleave",zt,(function(){yt.locked||(Nt(null,{focus:!1},ce.setSeries),Kt())}));var Gt=yt.show&&yt.points.show(s);Gt&&Gt.forEach((function(n,t){t>0&&(A(n,"cursor-pt"),A(n,b[t].class),H(n,-10,-10),rt.appendChild(n))}));var Jt=0;function Rt(n,t){var e=h(n/(t==on?bn:Nn),0,1),r=N[t];return r.min+e*(r.max-r.min)}function Ut(t){return n(Rt(t,on),e[0],Un,Vn)}s.posToIdx=Ut,s.posToVal=function(n,t){return Rt(t==on?n:Nn-n,t)},s.valToPos=function(n,t,e){return t==on?_n(n,N[t],e?Jn:bn,e?Bn:0):Fn(n,N[t],e?Rn:Nn,e?Gn:0)};var Vt=!1,qt=!1,Ot=!1,Xt=!1;function Zt(n){Vt=!0,n(s),Vt=!1,Ot&&ot(),Xt&&Kt(),qt&&!it&&xt(),Ot=Xt=qt=it=Vt}function Kt(n){if(Vt)Xt=!0;else{var t;if(Jt=0,yt.show&&(yt.x&&H(at,i(ft),0),yt.y&&H(lt,0,i(ct))),0>ft){t=null;for(var o=0;b.length>o;o++)if(o>0&&(jt[o]=1/0,Gt&&H(Gt[o],-10,-10)),q.show){if(0==o&&Ct)continue;for(var a=0;At[o].length>a;a++)At[o][a].firstChild.nodeValue="--"}kt&&Nt(null,{focus:!0},ce.setSeries)}else{t=Ut(ft);for(var c=g(_n(e[0][t],N[on],bn,0)),v=0;b.length>v;v++){var h=b[v];if(v>0&&h.show){var p=e[v][t],m=null==p?-10:g(Fn(p,N[h.scale],Nn,0));jt[v]=m>0?r(m-ct):1/0,Gt&&H(Gt[v],c,m)}else jt[v]=1/0;if(q.show){if(0==v&&Ct)continue;var d=0==v&&2==an?On:e[v],x=Ct?h.values(s,v,t):{_:h.value(s,d[t],v,t)},w=0;for(var y in x)At[v][w++].firstChild.nodeValue=x[y]}}if(Dt.show&&bt){if(Mt.x){var S=l(ut,ft),D=u(ut,ft);C(Et,Y,Dt[Y]=S),C(Et,k,Dt[k]=D-S)}if(Mt.y){var E=l(st,ct),T=u(st,ct);C(Et,"top",Dt.top=E),C(Et,M,Dt[M]=T-E)}}}if(null!=n&&(he.pub("mousemove",s,ft,ct,bn,Nn,t),kt)){var z=l.apply(null,jt),A=null;z>St.prox||jt.some((function(n,t){if(n==z)return A=t})),Nt(A,{focus:!0},ce.setSeries)}yt.idx=t,yt.left=ft,yt.top=ct,f&&fe("setCursor")}}s.batch=Zt,s.setCursor=function(n){ft=n.left,ct=n.top,Kt()};var Qt=null;function $t(){Qt=rt.getBoundingClientRect()}function ne(n,t,e,r,o,i){yt.locked||(null==Qt&&$t(),te(n,0,e,r,o,i,0,!1,null!=n),null!=n?0==Jt&&(Jt=D(Kt)):Kt())}function te(n,t,e,r,o,i,a,l,u){null!=n?(e=n.clientX-Qt.left,r=n.clientY-Qt.top):(e=bn*(e/o),r=Nn*(r/i)),u&&(e>1&&bn-1>e||(e=v(e,bn)),r>1&&Nn-1>r||(r=v(r,Nn))),l?(ut=e,st=r):(ft=e,ct=r)}function ee(){Tt({width:Mt.x?0:bn,height:Mt.y?0:Nn},!1)}function re(n,t,e,r,o,i){(null==n||Wn(n))&&(bt=!0,te(n,0,e,r,o,i,0,!0,!0),Dt.show&&(Mt.x||Mt.y)&&ee(),null!=n&&(W("mouseup",E,oe),he.pub("mousedown",s,ut,st,bn,Nn,null)))}function oe(n,t,e,r,o,i){(null==n||Wn(n))&&(bt=!1,te(n,0,e,r,o,i,0,!1,!0),ft!=ut||ct!=st?(Tt(Dt),Mt.setScale&&(Zt((function(){if(Mt.x){var n=2==an?Ut:Rt;Lt(on,n(Dt[Y],on),n(Dt[Y]+Dt[k],on))}if(Mt.y)for(var t in N)t!=on&&null==N[t].from&&Lt(t,Rt(Nn-Dt.top-Dt[M],t),Rt(Nn-Dt.top,t))})),ee())):yt.lock&&(yt.locked=!yt.locked,yt.locked||Kt()),null!=n&&(L("mouseup",E,oe),he.pub("mouseup",s,ft,ct,bn,Nn,null)))}function ie(n){Zn(),null!=n&&he.pub("dblclick",s,ft,ct,bn,Nn,null)}var ae,le={};le.mousedown=re,le.mousemove=ne,le.mouseup=oe,le.dblclick=ie,le.setSeries=function(n,t,e,r){Nt(e,r)},yt.show&&(W("mousedown",rt,re),W("mousemove",rt,ne),W("mouseleave",rt,(function(){yt.locked||bt||(ft=-10,ct=-10,Kt(1))})),Mt.setScale&&W("dblclick",rt,ie),ae=function(n){var t=null;function e(){t=null,n()}return function(){clearTimeout(t),t=setTimeout(e,100)}}($t),W("resize",T,ae),W("scroll",T,ae));var ue=s.hooks=t.hooks||{},se=[s];function fe(n){if(n in ue){var t=se.concat(Array.prototype.slice.call(arguments,1));ue[n].forEach((function(n){n.apply(null,t)}))}}(t.plugins||[]).forEach((function(n){for(var t in n.hooks)ue[t]=(ue[t]||[]).concat(n.hooks[t])}));var ce=S({key:null,setSeries:!1},yt.sync),ve=ce.key,he=null!=ve?zn[ve]=zn[ve]||An():An();function pe(){Qn(t[k],t[M]),fe("init",t,e),Xn(e||t.data,!1),R[on]?wt(on,R[on]):Zn(),Tt(Dt,!1),f=!0,fe("ready")}he.sub(s),s.pub=function(n,t,e,r,o,i,a){le[n](null,t,e,r,o,i,a)},s.destroy=function(){he.unsub(s),L("resize",T,ae),L("scroll",T,ae),mn.remove(),fe("destroy")},a?a instanceof HTMLElement?(a.appendChild(mn),pe()):a(s,pe):pe()}return Nn.assign=S,Nn.rangeNum=t,Nn.fmtDate=U,Nn.tzDate=function(n,t){var e=new Date(n.toLocaleString("en-US",{timeZone:t}));return e.setMilliseconds(n.getMilliseconds()),e},Nn}();
